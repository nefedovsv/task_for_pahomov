(window.webpackJsonptask_for_pahomov=window.webpackJsonptask_for_pahomov||[]).push([[0],{261:function(e,t,r){e.exports=r(480)},480:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(13),o=r(49),i=r(248),u=r(242),l=r(77),s=r.n(l),p="ADD_USER_DATA",m="HAS_ERROR",f="IS_LOADING",b="DATA_SUCCESS",d="LOG_OUT",O="USER_ACTION";var h=r(170),y=r.n(h),v=r(93),g=r(44),j=r(515),w=function(){return a.a.createElement(j.a,{variant:"contained",onClick:function(){Q.push("/")}},"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e!")},E=r(249),P=r(41),x=function(e){var t=e.component,r=Object(E.a)(e,["component"]),n=Object(P.c)((function(e){return e.userData})),c=t;return a.a.createElement(v.b,Object.assign({},r,{render:function(e){return n?a.a.createElement(c,e):a.a.createElement(v.a,{to:{pathname:"/",state:{from:e.location}}})}}))},D=r(74),S=r(247),k=r(244),C=Object(k.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),_=r(250),A=r(518),I=function(){return a.a.createElement(_.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",a.a.createElement(A.a,{color:"inherit",href:"https://github.com/nefedovsv"},"\u0412\u0430\u0448 \u0441\u0430\u0439\u0442")," ",(new Date).getFullYear(),".")},T=r(521),L=r(520),N=r(524),R=r(522),U=r(526),W=r(523),G=r(525),q=r(245),F=r.n(q),H=r(519),J=function(e){var t=e.dispatch,r=e.handleChange,a=e.userInput,c=C();return n.createElement(H.a,{component:"main",maxWidth:"xs"},n.createElement(L.a,null),n.createElement("div",{className:c.paper},n.createElement(T.a,{className:c.avatar},n.createElement(F.a,null)),n.createElement(_.a,{component:"h1",variant:"h5"},"\u0412\u0445\u043e\u0434 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),n.createElement("div",{className:c.form},n.createElement(N.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"\u041f\u043e\u0447\u0442\u0430",autoComplete:"email",autoFocus:!0,value:a.name,name:"name",onChange:r}),n.createElement(N.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",id:"password",autoComplete:"current-password",value:a.password,name:"password",onChange:r}),n.createElement(R.a,{control:n.createElement(U.a,{value:"remember",color:"primary"}),label:"\u0417\u0430\u043f\u043e\u043c\u043d\u0438 \u043c\u0435\u043d\u044f"}),n.createElement(j.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:c.submit,onClick:function(){return t({type:O,payload:a})}},"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),n.createElement(W.a,{container:!0},n.createElement(W.a,{item:!0,xs:!0},n.createElement(A.a,{href:"#",variant:"body2"},"\u0417\u0430\u0431\u044b\u043b \u043f\u0430\u0440\u043e\u043b\u044c?")),n.createElement(W.a,{item:!0},n.createElement(A.a,{href:"#",variant:"body2"},"\u0415\u0449\u0435 \u043d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430? \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"))))),n.createElement(G.a,{mt:8},n.createElement(I,null)))};function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var B=function(){var e=Object(P.b)(),t=n.useReducer((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(r,!0).forEach((function(t){Object(D.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{},t)}),{name:"",password:""}),r=Object(S.a)(t,2),a=r[0],c=r[1];return n.createElement(J,{handleChange:function(e){var t=e.currentTarget,r=t.name,n=t.value;c(Object(D.a)({},r,n))},userInput:a,dispatch:e})},Y={from:{pathname:"/profile"}},z=function(e){var t=Object(P.c)((function(e){return e.dataSuccess.isAuthenticated})),r=(e.location.state||Y).from;return t?n.createElement(v.a,{to:r}):n.createElement(B,null)},M=function(){var e=Object(P.b)();return n.createElement(j.a,{variant:"contained",onClick:function(){e((Q.push("/"),localStorage.clear(),{type:d,payload:{isAuthenticated:!1}}))}},"LogOut")},Q=Object(g.a)({basename:"task_for_pahomov/"});var V=r(60),X=s.a.mark(ee),Z=s.a.mark(ne),$={jwt:"86fasfgfsogHGad",isAuthenticated:!0};function ee(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.c)(O,ne);case 2:case"end":return e.stop()}}),X)}var te=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://httpbin.org/get");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function re(e){return{type:f,payload:{isLoading:e}}}function ne(e){var t;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(V.b)((n=e.payload,{type:p,payload:n}));case 3:return r.next=5,Object(V.b)(re(!0));case 5:return y.a.get("*",$),r.next=8,Object(V.a)((function(){return te()}));case 8:if(!(t=r.sent)){r.next=16;break}return r.next=12,Object(V.b)(re(!1));case 12:return localStorage.setItem("jwt",t.jwt),r.next=15,Object(V.b)({type:b,payload:{secretKey:t}});case 15:y.a.reset();case 16:r.next=22;break;case 18:return r.prev=18,r.t0=r.catch(0),r.next=22,Object(V.b)({type:m,payload:{hasError:!0}});case 22:case"end":return r.stop()}var n}),Z,null,[[0,18]])}function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var ce={name:"",password:""};function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(r,!0).forEach((function(t){Object(D.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ue=!1,le=localStorage.getItem("jwt");ue=!!le;var se=Object(o.c)({userData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(r,!0).forEach((function(t){Object(D.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{name:t.payload.name,password:t.payload.password});default:return e}},hasError:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return t.payload.hasError;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return t.payload.isLoading;default:return e}},dataSuccess:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{jwt:"",isAuthenticated:ue},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return ie({},e,{},t.payload.secretKey);case d:return ie({},e,{},t.payload);default:return e}}}),pe=r(246),me=r.n(pe),fe=Object(i.a)(),be=Object(o.e)(se,Object(o.a)(fe,me.a));fe.run(ee),Object(c.render)(a.a.createElement(P.a,{store:be},a.a.createElement((function(){return a.a.createElement(v.c,{history:Q},a.a.createElement(v.d,null,a.a.createElement(v.b,{exact:!0,path:"/",component:z}),a.a.createElement(x,{path:"/profile",component:M}),a.a.createElement(v.b,{component:w})))}),null)),document.getElementById("root"))}},[[261,1,2]]]);
//# sourceMappingURL=main.c39a397b.chunk.js.map